{% extends "base.html" %}
{% load url from future %}

{% block pagecontent %}
	
	<script type="text/javascript">
		LoadSlider($( "#userLevel" ).get("selector"),  $( "#userLevelVal" ).get("selector"), 10, 0, 0 );
		LoadSlider($( "#userWeight" ).get("selector"),  $( "#userWeightVal" ).get("selector"), 10, 0, 0 );
	</script>
	<script type="text/javascript">
	$(function() {
		$("body").css("background-color" , "#e3e8e4 !important");
		//$("body").css("background-color" , "#E0E0E0 !important");
	});
	</script>
	<div class="label headerGradient headerPosition" >
		<i class="icon-user icon-3x" style="float: left; padding-left: 20px; padding-top: 4px"></i>
		<p class=" headerFont" style="float: left; padding-top: 15px">User Management</p>
	</div>
	
	<form action="/CreateUser/" method="post" class="form-search" style="padding-top: 30px; padding-left:10px; margin: auto;">{% csrf_token %}
		
		<table class="table tableDisplay" style="margin-left:5px;width: 70%; float: right; margin-top: 10px;">
			<tr class="">
				<td width="15%">
					{{ userCreateform.firstname.label }}	
				</td>
				<td width="60%">
					{{ userCreateform.firstname }}
				</td>
				<td width="10%">
				</td>
			</tr>
			<tr>
				<td>
					{{ userCreateform.lastname.label }}	
				</td>
				<td>
					{{ userCreateform.lastname }}
				</td>
				<td>
				</td>
			</tr>
			<tr>
				<td>
					{{ userCreateform.emailid.label }}	
				</td>
				<td>
					{{ userCreateform.emailid }}
					{% if  errorEmail %}
						<div id="errorEMail" style="width: auto;">
							{{ errorEmail }}
						</div>
					{% endif %}
				</td>
				<td>
				</td>
			</tr>
			<tr class="">
				<td>
					{{ userCreateform.type.label }}	
				</td>
				<td>
					{{ userCreateform.type }}
					
					{% if  errorUserType %}
						<div id="errorEMail" style="width: auto;">
							{{ errorUserType }}
						</div>
					{% endif %}
				</td>
				<td>
				</td>
			</tr>
			<tr class="">
				<td>
					{{ userCreateform.user_level.label }}	
				</td>
				<td>
					<div id="userLevel" class="sliders"></div>
				</td>
				<td>
					<input name="user_level" id="userLevelVal" class="sliderValue" type="text">
					{% if userCreateform.user_level.value != '' and userCreateform.user_weight.value != '' %}
						<script type="text/javascript">
							setSliderValue($( "#userLevel" ).get("selector"), $( "#userLevelVal" ).get("selector"), {{ userCreateform.user_level.value }});
							setSliderValue($( "#userWeight" ).get("selector"), $( "#userWeightVal" ).get("selector"), {{ userCreateform.user_weight.value }});
						</script>	
					{% endif %}	
				</td>
			</tr>
			<tr class="">
				<td>
					{{ userCreateform.user_weight.label }}	
				</td>
				<td>
					<div id="userWeight" class="sliders"></div>
				</td>
				<td>
					<input name="user_weight" id="userWeightVal" class="sliderValue" type="text">
				</td>
			</tr>
			<tr>
				<td>
					
					<br>
					<input type="submit" value="Create" class="btn btn-medium btn-inverse">
				</td>
				<td>
				</td>
				<td>
				</td>
			</tr>
		</table>
		
		{% if userCreateform.errors|length == 0 %}
			<div class="title">
				<p>User List</p>
			</div>
			
			<div class="userList">	
					
					{% for user in userList %}
						<div class="userTile">
							
							{{ user.firstname }}
							{{ user.lastname }}
							, {{ user.type }}
							<br>
							{{ user.emailid }}
						
						</div>
					{% endfor %}
			</div>		
		{% endif %}
			
		{% if userCreateform.errors|length > 0 %}
			<div class="alert alert-error" style="width: 22%;"> 
				{% for key, value in userCreateform.errors.items %} 
					{{value}}
				{% endfor %}
			</div>
		{% endif %}
		
		<p>{{ successMsg }}</p>
	</form>
{% endblock %} 